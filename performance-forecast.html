<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Performance Forecast - Kapruka</title>
  <link rel="icon" type="image/png" href="https://play-lh.googleusercontent.com/XPaIW4RsTkd8au1rBlcwAtdyynz9pZyPVn3QPK4gXbboroWxFI3hpVhn18IrIBrUtztj=w240-h480-rw">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #1a0b2e 0%, #3d2461 50%, #5e3a8e 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }
    .container { max-width: 1400px; margin: 0 auto; }

    .header {
      text-align: center;
      margin-bottom: 40px;
    }
    .kapruka-logo {
      width: 100px;
      height: 100px;
      margin: 0 auto 20px;
      border-radius: 50%;
      overflow: hidden;
      box-shadow: 0 15px 50px rgba(0,0,0,0.5);
    }
    .kapruka-logo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 42px;
      background: linear-gradient(135deg, #FFD700, #FFF, #FFD700);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 10px;
    }
    .subtitle {
      color: rgba(255,255,255,0.8);
      font-size: 14px;
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(255,255,255,0.1);
      color: white;
      padding: 12px 24px;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s;
      margin-bottom: 30px;
      border: 2px solid rgba(255,255,255,0.2);
    }
    .back-btn:hover {
      background: rgba(255,215,0,0.2);
      border-color: #FFD700;
      transform: translateX(-5px);
    }

    .forecast-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 30px;
    }

    .forecast-card {
      background: rgba(255,255,255,0.98);
      padding: 35px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }

    .forecast-card h2 {
      font-family: 'Playfair Display', serif;
      color: #5e3a8e;
      font-size: 28px;
      margin-bottom: 25px;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .form-group {
      margin-bottom: 25px;
    }

    label {
      color: #5e3a8e;
      font-weight: 600;
      margin-bottom: 10px;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      display: block;
    }

    select, input[type="number"] {
      width: 100%;
      padding: 14px 18px;
      border: 2px solid #e8e8e8;
      border-radius: 12px;
      font-size: 15px;
      font-family: 'Inter', sans-serif;
      transition: all 0.3s;
      background: white;
    }

    select:focus, input:focus {
      outline: none;
      border-color: #FFD700;
      box-shadow: 0 0 0 3px rgba(255,215,0,0.1);
    }

    input[type="range"] {
      width: 100%;
      height: 8px;
      border-radius: 5px;
      background: linear-gradient(to right, #5e3a8e, #FFD700);
      outline: none;
      cursor: pointer;
      -webkit-appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #FFD700;
      cursor: pointer;
      box-shadow: 0 3px 10px rgba(0,0,0,0.3);
    }

    input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #FFD700;
      cursor: pointer;
      box-shadow: 0 3px 10px rgba(0,0,0,0.3);
      border: none;
    }

    .budget-display {
      background: linear-gradient(135deg, #5e3a8e, #3d2461);
      padding: 20px;
      border-radius: 12px;
      margin-top: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
    }

    .budget-amount {
      font-size: 32px;
      font-weight: 700;
      font-family: 'Playfair Display', serif;
      color: #FFD700;
    }

    .objective-info {
      background: linear-gradient(135deg, #e0e7ff 0%, #f3e8ff 100%);
      border-left: 5px solid #5e3a8e;
      padding: 15px;
      border-radius: 8px;
      font-size: 13px;
      color: #555;
      margin-top: 12px;
      line-height: 1.6;
    }

    .forecast-btn {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, #5e3a8e, #3d2461);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-top: 25px;
    }

    .forecast-btn:hover:not(:disabled) {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(94,58,142,0.4);
      background: linear-gradient(135deg, #3d2461, #5e3a8e);
    }

    .forecast-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .result-card {
      background: white;
      padding: 25px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      border-left: 5px solid #FFD700;
      transition: all 0.3s;
      text-align: center;
    }

    .result-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0,0,0,0.15);
    }

    .result-card.primary {
      background: linear-gradient(135deg, #5e3a8e, #3d2461);
      border-left-color: #FFD700;
    }

    .result-label {
      font-size: 12px;
      color: #666;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 10px;
    }

    .result-card.primary .result-label {
      color: rgba(255,255,255,0.9);
    }

    .result-value {
      font-size: 36px;
      font-weight: 700;
      font-family: 'Playfair Display', serif;
      color: #5e3a8e;
      margin: 10px 0;
    }

    .result-card.primary .result-value {
      color: #FFD700;
    }

    .result-unit {
      font-size: 12px;
      color: #999;
      font-weight: 500;
    }

    .result-card.primary .result-unit {
      color: rgba(255,255,255,0.8);
    }

    .performance-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }

    .performance-table th {
      background: linear-gradient(135deg, #5e3a8e, #3d2461);
      color: white;
      padding: 16px 12px;
      text-align: left;
      font-weight: 700;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .performance-table td {
      padding: 16px 12px;
      border-bottom: 1px solid #f0f0f0;
      font-size: 14px;
      color: #333;
    }

    .performance-table tr:hover {
      background: #f9f9f9;
    }

    .performance-table tr:last-child td {
      border-bottom: none;
    }

    .estimate-value {
      font-weight: 700;
      color: #5e3a8e;
      font-size: 15px;
    }

    .loading {
      text-align: center;
      padding: 60px 20px;
      color: #666;
    }

    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 5px solid rgba(255,215,0,0.3);
      border-top-color: #FFD700;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .empty-state {
      text-align: center;
      padding: 80px 20px;
      color: rgba(255,255,255,0.7);
    }

    .empty-state .icon {
      font-size: 80px;
      margin-bottom: 20px;
    }

    .empty-state h3 {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      color: white;
      margin-bottom: 15px;
    }

    .success-message {
      background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
      border: 2px solid #28a745;
      border-left: 5px solid #28a745;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      color: #155724;
      font-size: 14px;
      line-height: 1.6;
    }

    .error-message {
      background: linear-gradient(135deg, #fff3cd 0%, #ffe9c2 100%);
      border: 2px solid #ffc107;
      border-left: 5px solid #ffc107;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      color: #856404;
      font-size: 14px;
      line-height: 1.6;
    }

    .forecast-disclaimer {
      background: rgba(255,255,255,0.95);
      border-left: 5px solid #FFD700;
      padding: 25px;
      border-radius: 12px;
      margin-top: 30px;
      font-size: 13px;
      color: #666;
      line-height: 1.8;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    .forecast-disclaimer strong {
      color: #5e3a8e;
    }

    @media (max-width: 768px) {
      h1 { font-size: 28px; }
      .forecast-grid {
        grid-template-columns: 1fr;
      }
      .results-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="index.html" class="back-btn">
      ‚Üê Back to Home
    </a>

    <div class="header">
      <div class="kapruka-logo">
        <img src="https://play-lh.googleusercontent.com/XPaIW4RsTkd8au1rBlcwAtdyynz9pZyPVn3QPK4gXbboroWxFI3hpVhn18IrIBrUtztj=w240-h480-rw" alt="Kapruka">
      </div>
      <h1>Performance Forecast</h1>
      <p class="subtitle">AI-Powered Campaign Predictions</p>
    </div>

    <div class="forecast-grid">
      <!-- Input Card -->
      <div class="forecast-card">
        <h2>üìã Campaign Settings</h2>

        <div class="form-group">
          <label for="objective">Campaign Objective *</label>
          <select id="objective" required>
            <option value="">Select an objective...</option>
            <option value="CONVERSIONS">üõí Conversions (Sales/Purchases)</option>
            <option value="LEAD_GENERATION">üìù Lead Generation (Leads)</option>
            <option value="ENGAGEMENT">‚ù§Ô∏è Engagement (Likes, Comments, Shares)</option>
            <option value="REACH">üë• Reach (Maximum People)</option>
            <option value="TRAFFIC">üîó Traffic (Website Clicks)</option>
          </select>
          <div id="objectiveInfo" class="objective-info" style="display: none;"></div>
        </div>

        <div class="form-group">
          <label for="budget">Campaign Budget (USD) *</label>
          <input type="number" id="budget" min="10" max="100000" step="5" placeholder="Enter budget amount" value="500" required>
          <div class="budget-display" id="budgetDisplay" style="display: none;">
            <span style="font-weight: 500;">Total Budget:</span>
            <span class="budget-amount">$<span id="budgetAmount">0</span></span>
          </div>
        </div>

        <div class="form-group">
          <label for="budgetSlider">Quick Budget Adjust</label>
          <input type="range" id="budgetSlider" min="10" max="100000" step="5" value="500">
        </div>

        <button class="forecast-btn" id="forecastBtn">üéØ Generate Forecast</button>
      </div>

      <!-- Results Card -->
      <div class="forecast-card">
        <h2>üìä Performance Estimates</h2>
        <div id="resultsContainer">
          <div class="empty-state" style="padding: 40px 20px;">
            <div style="font-size: 64px; margin-bottom: 15px;">üìà</div>
            <h3 style="font-size: 20px; color: #5e3a8e; margin-bottom: 10px;">Select objective and budget</h3>
            <p style="color: #999; font-size: 14px;">to see AI-powered performance estimates</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Detailed Results Table -->
    <div id="tableContainer" style="display: none;">
      <div class="forecast-card">
        <h2>üìã Detailed Performance Breakdown</h2>
        <div style="overflow-x: auto;">
          <table class="performance-table" id="estimateTable">
            <thead>
              <tr>
                <th>Metric</th>
                <th>Estimate</th>
                <th>Expected Range</th>
              </tr>
            </thead>
            <tbody id="tableBody">
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Disclaimer -->
    <div class="forecast-disclaimer">
      <strong>üìå Important Note:</strong> These estimates are generated using machine learning algorithms trained on your historical Meta Ads performance data. Actual results may vary based on audience targeting, creative quality, seasonality, market conditions, and competition. Use these forecasts as a strategic planning tool, not as guaranteed outcomes. For best results, continuously optimize your campaigns based on real-time performance data.
    </div>
  </div>

  <script src="js/supabase-api.js"></script>
  <script src="js/performance-forecast.js"></script>
</body>
</html>
